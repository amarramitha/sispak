{% extends 'admin/layout.html' %}
{% block title %}Edit Rule{% endblock %}

{% block content %}

<h2 class="fw-bold mb-4 text-center">Edit Rule</h2>

<div class="d-flex justify-content-center">
    <div class="card shadow-sm border-0 rounded-3 p-4 w-100" style="max-width: 700px;">
        <form method="post">
            {{ form.csrf_token }}

            <!-- PILIH GEJALA -->
            <div class="mb-3">
                {{ form.gejala_kode.label(class_='form-label fw-semibold') }}
                <select name="gejala_kode" class="form-select rounded-2">
                    {% for value, label in form.gejala_kode.choices %}
                        <option value="{{ value }}"
                            {% if form.gejala_kode.data == value %}selected{% endif %}>
                            {{ value }} — {{ label }}
                        </option>
                    {% endfor %}
                </select>
            </div>

            <!-- KATEGORI OBAT (MULTIPLE) -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Kategori Obat</label>
                <div class="border rounded-2 p-3" style="max-height: 220px; overflow-y: auto;">

                    {% for value, label in form.kategori_list.choices %}
                    <div class="form-check mb-1">
                        <input
                            class="form-check-input"
                            type="checkbox"
                            name="kategori_list"
                            id="k_{{ value }}"
                            value="{{ value }}"
                            {% if form.kategori_list.data and value in form.kategori_list.data %}checked{% endif %}
                        >
                        <label class="form-check-label" for="k_{{ value }}">
                            {{ value }} — {{ label }}
                        </label>
                    </div>
                    {% endfor %}

                </div>
            </div>

            <!-- NILAI KEPERCAYAAN -->
            <div class="mb-3">
                {{ form.nilai_kepercayaan.label(class_='form-label fw-semibold') }}
                {{ form.nilai_kepercayaan(class_='form-control rounded-2', step='0.01') }}
            </div>

            <div class="mt-4 d-flex gap-2">
                <button class="btn text-white px-4" style="background:#1EBBAC;">
                    Update
                </button>
                <a href="{{ url_for('rule_index') }}" class="btn btn-secondary px-4">
                    Batal
                </a>
            </div>
        </form>
    </div>
</div>

{% endblock %}
