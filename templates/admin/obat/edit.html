{% extends 'admin/layout.html' %}
{% block title %}Edit Obat{% endblock %}

{% block content %}

<h2 class="fw-bold mb-4 text-center">Edit Obat</h2>

<div class="d-flex justify-content-center">
    <div class="card shadow-sm border-0 rounded-3 p-4 w-100" style="max-width: 800px;">

        <form method="post" enctype="multipart/form-data">
            {{ form.csrf_token }}

            <div class="mb-3">
                {{ form.kode.label(class='form-label fw-semibold') }}
                {{ form.kode(class='form-control rounded-2', readonly=True) }}
            </div>

            <div class="mb-3">
                {{ form.kategori_kode.label(class='form-label fw-semibold') }}
                {{ form.kategori_kode(class='form-select rounded-2') }}
            </div>

            <div class="mb-3">
                {{ form.nama_obat.label(class='form-label fw-semibold') }}
                {{ form.nama_obat(class='form-control rounded-2') }}
            </div>

            <div class="mb-3">
                {{ form.golongan.label(class='form-label fw-semibold') }}
                {{ form.golongan(class='form-control rounded-2') }}
            </div>

            <div class="mb-3">
                {{ form.deskripsi.label(class='form-label fw-semibold') }}
                {{ form.deskripsi(class='form-control rounded-2', rows=3) }}
            </div>

            <div class="mb-3">
                {{ form.indikasi.label(class='form-label fw-semibold') }}
                {{ form.indikasi(class='form-control rounded-2', rows=3) }}
            </div>

            <div class="mb-3">
                {{ form.komposisi.label(class='form-label fw-semibold') }}
                {{ form.komposisi(class='form-control rounded-2', rows=3) }}
            </div>

            <div class="mb-3">
                {{ form.dosis.label(class='form-label fw-semibold') }}
                {{ form.dosis(class='form-control rounded-2', rows=3) }}
            </div>

            <div class="mb-3">
                {{ form.kontraindikasi.label(class='form-label fw-semibold') }}
                {{ form.kontraindikasi(class='form-control rounded-2', rows=3) }}
            </div>

            <div class="mb-3">
                {{ form.efek_samping.label(class='form-label fw-semibold') }}
                {{ form.efek_samping(class='form-control rounded-2', rows=3) }}
            </div>

            <div class="mb-3">
                {{ form.warning.label(class='form-label fw-semibold') }}
                {{ form.warning(class='form-control rounded-2', rows=2) }}
            </div>

            <div class="mb-3">
                {{ form.harga.label(class='form-label fw-semibold') }}
                {{ form.harga(class='form-control rounded-2') }}
            </div>

            <div class="mb-3">
                {{ form.manufaktur.label(class='form-label fw-semibold') }}
                {{ form.manufaktur(class='form-control rounded-2') }}
            </div>

            <!-- GAMBAR + PREVIEW -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Gambar Obat</label>
                {{ form.gambar(class='form-control rounded-2') }}

                {% if obat.gambar %}
                <div class="mt-3">
                    <p class="fw-semibold mb-1">Preview:</p>
                    <img src="{{ url_for('static', filename='obat/' ~ obat.gambar) }}"
                         class="img-thumbnail"
                         style="max-width: 180px;">
                </div>
                {% endif %}
            </div>

            <!-- BUTTON -->
            <div class="mt-4 d-flex gap-2">
                <button class="btn text-white px-4" style="background:#1EBBAC;">
                    Update
                </button>
                <a href="{{ url_for('obat_index') }}" class="btn btn-secondary px-4">
                    Batal
                </a>
            </div>

        </form>
    </div>
</div>

{% endblock %}
